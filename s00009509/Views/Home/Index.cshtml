@model IEnumerable<s00009509.Order>


<!--Display Total no. of orders-->
<h2>@Model.Count() No. Orders</h2>
<br/>    

<!--Form for Search Action-->
<form method="GET">
    <div class="row" role="form">
        <div class="form-group col-md-2">
            <input type="text" placeholder="Search By Name" name="searchTerm" class="form-control" />
        </div>
        <div class="form-group col-md-1">
            <input type="submit" value="Search" class="btn btn-primary form-control" />
        </div>
    </div>
</form>

<!--Table to display Orders-->
<table class="table table-striped table-hover table-condensed">
    <tr>
        <th>
            <div class="btn-group">
                <a class="dropdown-toggle" data-toggle="dropdown">Order Date</a>
                <ul class="dropdown-menu" role="menu">
                    <li>@Html.ActionLink("Ascending", "Index", new { sortOrder = "ascend", searchTerm = Request.QueryString["searchTerm"] })</li>
                    <li>@Html.ActionLink("Descending", "Index", new { sortOrder = "descend", searchTerm = Request.QueryString["searchTerm"] })</li>
                </ul>
            </div>
        </th>
        <th>
            @Html.DisplayNameFor(model => model.OrderId)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.FirstName)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.LastName)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.City)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Country)
        </th>
        <th>
            <div class="btn-group">
                <a class="dropdown-toggle" data-toggle="dropdown">Total</a>
                <ul class="dropdown-menu" role="menu">
                    <li>@Html.ActionLink("Ascending", "Index", new { sortOrder = "Value_asc", searchTerm = Request.QueryString["searchTerm"] })</li>
                    <li>@Html.ActionLink("Descending", "Index", new { sortOrder = "Value_desc", searchTerm = Request.QueryString["searchTerm"] })</li>
                </ul>
            </div>
        </th>
        <th></th>
    </tr>

    @foreach (var item in Model)
    {
        <tr>
            <td>
                @*The "ShortDateTime" call is for the Shared partial view to format OrderDate to ShortDateString.
                    This view is in Views->Shared->DisplayTemplates..
                     As this is Shared it could be used in other views*@
                @Html.DisplayFor(modelItem => item.OrderDate, "ShortDateTime")
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.OrderId)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.FirstName)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.LastName)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.City)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Country)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Total)
            </td>
            <td>
                @Html.ActionLink("View Albums", "Index", "Album", new { id = item.OrderId }, new { @class = "btn btn-success btn-xs" })
            </td>
        </tr>
    }
</table>
